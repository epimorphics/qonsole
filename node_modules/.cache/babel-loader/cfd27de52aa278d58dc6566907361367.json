{"remainingRequest":"/home/anhelka/Documents/epimorphics/qonsole/node_modules/babel-loader/lib/index.js!/home/anhelka/Documents/epimorphics/qonsole/node_modules/eslint-loader/index.js??ref--13-0!/home/anhelka/Documents/epimorphics/qonsole/src/store.db.js","dependencies":[{"path":"/home/anhelka/Documents/epimorphics/qonsole/src/store.db.js","mtime":1594294101739},{"path":"/home/anhelka/Documents/epimorphics/qonsole/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/anhelka/Documents/epimorphics/qonsole/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/anhelka/Documents/epimorphics/qonsole/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL2FuaGVsa2EvRG9jdW1lbnRzL2VwaW1vcnBoaWNzL3FvbnNvbGUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwovLyBWdWUuY29uZmlnLnByb2R1Y3Rpb25UaXAgPSBmYWxzZTsKLy8gVnVlLmNvbmZpZy5kZXZ0b29scyA9IGZhbHNlOwp2YXIgREJfTkFNRSA9ICdkYic7CnZhciBEQl9WRVJTSU9OID0gMTsKCnZhciByZGZTdG9yZSA9IHJlcXVpcmUoJ3JkZnN0b3JlJyk7Cgp2YXIgZGIgPSB7CiAgbmFtZXNwYWNlZDogdHJ1ZSwKICBzdGF0ZTogZnVuY3Rpb24gc3RhdGUoKSB7CiAgICByZXR1cm4gewogICAgICBkYjogbnVsbCwKICAgICAgcmVhZHk6IGZhbHNlLAogICAgICBxdWVyaWVzOiBbXSwKICAgICAgcmRmc3RvcmU6IG51bGwKICAgIH07CiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoc3RhdGUpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZS5nZXREYigpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBzdGF0ZS5kYiA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZS5nZXRDYXRzRnJvbURiKCk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIHN0YXRlLnF1ZXJpZXMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDg7CiAgICAgICAgICAgICAgICByZXR1cm4gc3RhdGUuZ2V0R3JhcGhGcm9tRGIoKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgc3RhdGUucmRmc3RvcmUgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgc3RhdGUucmVhZHkgPSB0cnVlOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGFkZEdyYXBoOiBmdW5jdGlvbiBhZGRHcmFwaChzdGF0ZSwgcmRmKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciByZGZzdG9yZTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgLy8gQ3JlYXRlIG5ldyByZGZTdG9yZSBpbnN0YW5jZSAKICAgICAgICAgICAgICAgIHJkZnN0b3JlID0gbmV3IHJkZlN0b3JlLlN0b3JlKGZ1bmN0aW9uIChlcnIsIHN0b3JlKSB7CiAgICAgICAgICAgICAgICAgIGlmICghZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0b3JlOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsgLy8gR2l2ZW4gdHVydGxlIGRhdGEsIGxvYWQgZGF0YSB0byByZGZzdG9yZSAKCiAgICAgICAgICAgICAgICByZGZzdG9yZS5sb2FkKCJ0ZXh0L3R1cnRsZSIsIHJkZiwgZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICAgICAgICBpZiAoZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gc3RhdGUuYWRkR3JhcGhUb0RiKHJkZnN0b3JlKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlLmdldEdyYXBoRnJvbURiKCk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIHN0YXRlLnJkZnN0b3JlID0gX2NvbnRleHQyLnNlbnQ7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGFkZEdyYXBoVG9EYjogZnVuY3Rpb24gYWRkR3JhcGhUb0RiKHN0YXRlLCByZGZncmFwaCkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIsIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHZhciB0cmFucyA9IHN0YXRlLmRiLnRyYW5zYWN0aW9uKFsnZ3JhcGhzJ10sICdyZWFkd3JpdGUnKTsKCiAgICAgICAgICAgICAgICAgIHRyYW5zLm9uY29tcGxldGUgPSBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTsKICAgICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICAgIHZhciBzdG9yZSA9IHRyYW5zLm9iamVjdFN0b3JlKCdncmFwaHMnKTsKICAgICAgICAgICAgICAgICAgc3RvcmUuYWRkKHJkZmdyYXBoKTsKICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZGVsZXRlR3JhcGg6IGZ1bmN0aW9uIGRlbGV0ZUdyYXBoKHN0YXRlLCBpZCkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoInJldHVybiIsIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHZhciB0cmFucyA9IHN0YXRlLmRiLnRyYW5zYWN0aW9uKFsnZ3JhcGhzJ10sICdyZWFkd3JpdGUnKTsKCiAgICAgICAgICAgICAgICAgIHRyYW5zLm9uY29tcGxldGUgPSBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTsKICAgICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICAgIHZhciBzdG9yZSA9IHRyYW5zLm9iamVjdFN0b3JlKCdncmFwaHMnKTsKICAgICAgICAgICAgICAgICAgc3RvcmUuZGVsZXRlKGlkKTsKICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZ2V0R3JhcGhGcm9tRGI6IGZ1bmN0aW9uIGdldEdyYXBoRnJvbURiKHN0YXRlKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdCgicmV0dXJuIiwgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgdmFyIHRyYW5zID0gc3RhdGUuZGIudHJhbnNhY3Rpb24oWydncmFwaCddLCAncmVhZG9ubHknKTsKCiAgICAgICAgICAgICAgICAgIHRyYW5zLm9uY29tcGxldGUgPSBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZ3JhcGgpOwogICAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgICAgdmFyIHN0b3JlID0gdHJhbnMub2JqZWN0U3RvcmUoJ2dyYXBoJyk7CiAgICAgICAgICAgICAgICAgIHZhciBncmFwaCA9IG51bGw7CgogICAgICAgICAgICAgICAgICBzdG9yZS5vcGVuQ3Vyc29yKCkub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgY3Vyc29yID0gZS50YXJnZXQucmVzdWx0OwoKICAgICAgICAgICAgICAgICAgICBpZiAoY3Vyc29yKSB7CiAgICAgICAgICAgICAgICAgICAgICBncmFwaCA9IGN1cnNvci52YWx1ZTsKICAgICAgICAgICAgICAgICAgICAgIGN1cnNvci5jb250aW51ZSgpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU1KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8gYXN5bmMgYWRkUXVlcnkoc3RhdGUsIHF1ZXJ5KSB7CiAgICAvLyB9LAogICAgLy8gYXN5bmMgZGVsZXRlUXVlcnkoc3RhdGUpIHsKICAgIC8vIH0sCiAgICAvLyBhc3luYyBhZGRRdWVyeVRvRGIoc3RhdGUsIHF1ZXJ5KSB7CiAgICAvLyB9LAogICAgLy8gYXN5bmMgZGVsZXRlUXVlcnlGcm9tRGIoc3RhdGUsIGlkKSB7CiAgICAvLyB9LAogICAgLy8gYXN5bmMgZ2V0UXVlcmllc0Zyb21EYihzdGF0ZSkgewogICAgLy8gICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewogICAgLy8gICAgIGxldCB0cmFucyA9IHN0YXRlLmRiLnRyYW5zYWN0aW9uKFsncXVlcmllcyddLCAncmVhZG9ubHknKQogICAgLy8gICAgIHRyYW5zLm9uY29tcGxldGUgPSBlID0+IHsKICAgIC8vICAgICAgIHJlc29sdmUocXVlcmllcykKICAgIC8vICAgICB9CiAgICAvLyAgICAgbGV0IHN0b3JlID0gdHJhbnMub2JqZWN0U3RvcmUoJ3F1ZXJpZXMnKQogICAgLy8gICAgIGxldCBxdWVyaWVzID0gW10KICAgIC8vICAgICBzdG9yZS5vcGVuQ3Vyc29yKCkub25zdWNjZXNzID0gZSA9PiB7CiAgICAvLyAgICAgICBsZXQgY3Vyc29yID0gZS50YXJnZXQucmVzdWx0CiAgICAvLyAgICAgICBpZiAoY3Vyc29yKSB7CiAgICAvLyAgICAgICAgIHF1ZXJpZXMucHVzaChjdXJzb3IudmFsdWUpCiAgICAvLyAgICAgICAgIGN1cnNvci5jb250aW51ZSgpCiAgICAvLyAgICAgICB9CiAgICAvLyAgICAgfQogICAgLy8gICB9KQogICAgLy8gfSwKICAgIGdldERiOiBmdW5jdGlvbiBnZXREYigpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2JChfY29udGV4dDYpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2LnByZXYgPSBfY29udGV4dDYubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuYWJydXB0KCJyZXR1cm4iLCBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgICAgICAgICAgIHZhciByZXF1ZXN0ID0gd2luZG93LmluZGV4ZWREQi5vcGVuKERCX05BTUUsIERCX1ZFUlNJT04pOwoKICAgICAgICAgICAgICAgICAgcmVxdWVzdC5vbmVycm9yID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnRXJyb3Igb3BlbmluZyBkYicsIGUpOwogICAgICAgICAgICAgICAgICAgIHJlamVjdCgnRXJyb3InKTsKICAgICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGUudGFyZ2V0LnJlc3VsdCk7CiAgICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgICByZXF1ZXN0Lm9udXBncmFkZW5lZWRlZCA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ29udXBncmFkZW5lZWRlZCcpOwogICAgICAgICAgICAgICAgICAgIHZhciBkYiA9IGUudGFyZ2V0LnJlc3VsdDsgLy8gbGV0IHF1ZXJpZXNTdG9yZSA9IGRiLmNyZWF0ZWRPYmplY3RTdG9yZSgicXVlcmllcyIsIHsgYXV0b0luY3JlbWVudDogdHJ1ZSwga2V5UGF0aDogJ2lkJyB9KQoKICAgICAgICAgICAgICAgICAgICB2YXIgcmRmU3RvcmUgPSBkYi5jcmVhdGVkT2JqZWN0U3RvcmUoImdyYXBocyIsIHsKICAgICAgICAgICAgICAgICAgICAgIGF1dG9JbmNyZW1lbnQ6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICBrZXlQYXRoOiAnaWQnCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmRmU3RvcmUpOwogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTYpOwogICAgICB9KSkoKTsKICAgIH0KICB9LAogIGdldHRlcnM6IHt9Cn07CmV4cG9ydCBkZWZhdWx0IHsKICBkYjogZGIKfTs="},{"version":3,"sources":["/home/anhelka/Documents/epimorphics/qonsole/src/store.db.js"],"names":["DB_NAME","DB_VERSION","rdfStore","require","db","namespaced","state","ready","queries","rdfstore","mutations","created","getDb","getCatsFromDb","getGraphFromDb","addGraph","rdf","Store","err","store","load","console","log","addGraphToDb","rdfgraph","Promise","resolve","trans","transaction","oncomplete","e","objectStore","add","deleteGraph","id","delete","graph","openCursor","onsuccess","cursor","target","result","value","continue","reject","request","window","indexedDB","open","onerror","onupgradeneeded","createdObjectStore","autoIncrement","keyPath","getters"],"mappings":"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","sourcesContent":["// Vue.config.productionTip = false;\n// Vue.config.devtools = false;\n\nconst DB_NAME = 'db';\nconst DB_VERSION = 1;\n\nvar rdfStore = require('rdfstore')\n\nconst db = {\n    namespaced: true,\n    state: () => ({\n      db: null,\n      ready: false,\n      queries: [],\n      rdfstore: null,\n    }),\n    mutations: {\n      async created(state) {\n        state.db = await state.getDb()\n        state.queries = await state.getCatsFromDb()\n        state.rdfstore = await state.getGraphFromDb()\n        state.ready = true \n      }, \n      async addGraph(state, rdf) {\n        // Create new rdfStore instance \n        let rdfstore = new rdfStore.Store(function(err, store) {\n          if (!err) {\n            return store \n          }\n        })\n        // Given turtle data, load data to rdfstore \n        rdfstore.load(\"text/turtle\", rdf, function(err) {\n          if (err) {\n            console.log(err)\n          }\n        })\n        await state.addGraphToDb(rdfstore)\n        state.rdfstore = await state.getGraphFromDb()\n      },\n      async addGraphToDb(state, rdfgraph) {\n        return new Promise((resolve) => {\n          let trans = state.db.transaction(['graphs'],'readwrite');\n          trans.oncomplete = e => {\n            console.log(e)\n            resolve();\n          };\n  \n          let store = trans.objectStore('graphs');\n          store.add(rdfgraph);\n  \n        });\n      }, \n      async deleteGraph(state, id) {\n        return new Promise((resolve) => {\n          let trans = state.db.transaction(['graphs'],'readwrite');\n          trans.oncomplete = e => {\n            console.log(e)\n            resolve();\n          };\n  \n          let store = trans.objectStore('graphs');\n          store.delete(id);\n        });\n      }, \n      async getGraphFromDb(state) {\n        return new Promise((resolve) => {\n          let trans = state.db.transaction(['graph'], 'readonly')\n\n          trans.oncomplete = e => {\n            console.log(e)\n            resolve(graph)\n          }\n\n          let store = trans.objectStore('graph')\n          let graph = null \n\n          store.openCursor().onsuccess = e => {\n            let cursor = e.target.result\n            if (cursor) {\n              graph = cursor.value\n              cursor.continue()\n            }\n          }\n        })\n      },\n      // async addQuery(state, query) {\n\n      // },\n      // async deleteQuery(state) {\n\n      // },\n      // async addQueryToDb(state, query) {\n\n      // },\n      // async deleteQueryFromDb(state, id) {\n\n      // },\n      // async getQueriesFromDb(state) {\n      //   return new Promise((resolve, reject) => {\n      //     let trans = state.db.transaction(['queries'], 'readonly')\n\n      //     trans.oncomplete = e => {\n      //       resolve(queries)\n      //     }\n\n      //     let store = trans.objectStore('queries')\n      //     let queries = []\n\n      //     store.openCursor().onsuccess = e => {\n      //       let cursor = e.target.result\n      //       if (cursor) {\n      //         queries.push(cursor.value)\n      //         cursor.continue()\n      //       }\n      //     }\n      //   })\n      // },\n      async getDb() {\n        return new Promise((resolve, reject) => {\n          let request = window.indexedDB.open(DB_NAME, DB_VERSION)\n\n          request.onerror = e => {\n            console.log('Error opening db', e)\n            reject('Error')\n          }\n\n          request.onsuccess = e => {\n            resolve(e.target.result)\n          }\n\n          request.onupgradeneeded = e => {\n            console.log('onupgradeneeded')\n            let db = e.target.result\n            // let queriesStore = db.createdObjectStore(\"queries\", { autoIncrement: true, keyPath: 'id' })\n            let rdfStore = db.createdObjectStore(\"graphs\", { autoIncrement: true, keyPath: 'id'})\n            console.log(rdfStore)\n          }\n        })\n      },\n    },\n    getters: {\n      \n    }\n}\n\nexport default {db}"]}]}