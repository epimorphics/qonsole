{"remainingRequest":"/home/anhelka/Documents/epimorphics/qonsole/node_modules/babel-loader/lib/index.js!/home/anhelka/Documents/epimorphics/qonsole/node_modules/eslint-loader/index.js??ref--13-0!/home/anhelka/Documents/epimorphics/qonsole/src/store/modules/sparqleditor.store.js","dependencies":[{"path":"/home/anhelka/Documents/epimorphics/qonsole/src/store/modules/sparqleditor.store.js","mtime":1597052624130},{"path":"/home/anhelka/Documents/epimorphics/qonsole/node_modules/cache-loader/dist/cjs.js","mtime":1596446669101},{"path":"/home/anhelka/Documents/epimorphics/qonsole/node_modules/babel-loader/lib/index.js","mtime":1596446669078},{"path":"/home/anhelka/Documents/epimorphics/qonsole/node_modules/eslint-loader/index.js","mtime":1596446669324}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmVwc2lsb24iOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZW50cmllcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0IjsKaW1wb3J0IHsgbWFrZVF1ZXJ5LCBzZW5kUXVlcnkgfSBmcm9tICdAL3F1ZXJ5LmpzJzsKaW1wb3J0IHsgc2F2ZUFzIH0gZnJvbSAnZmlsZS1zYXZlcic7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lc3BhY2VkOiB0cnVlLAogIHN0YXRlOiB7CiAgICBTUEFSUUxDb2RlOiAnJywKICAgIGVuZHBvaW50OiAnJywKICAgIGVycm9yU3RhdHVzOiBmYWxzZSwKICAgIGVycm9yTWVzc2FnZTogJycsCiAgICByZXN1bHRUeXBlOiAnSlNPTicsCiAgICAvLyBGb3IgU1BBUlFMIEVkaXRvciBvbmx5IAogICAgcmVtb3RlUmVzdWx0OiB7CiAgICAgIGNvbHM6IG51bGwsCiAgICAgIHJvd3M6IG51bGwKICAgIH0sCiAgICByZW1vdGVSZXN1bHRJc1JlYWR5OiBmYWxzZSwKICAgIHJlbW90ZVJlc3VsdFRpbWU6IDAsCiAgICAvLyBGb3IgdXNpbmcgU1BBUlFMIGVkaXRvciB0byBxdWVyeSAibG9jYWwiIFJERiBzdG9yZSAKICAgIGxvY2FsUmVzdWx0OiB7CiAgICAgIGNvbHM6IG51bGwsCiAgICAgIHJvd3M6IG51bGwKICAgIH0sCiAgICBsb2NhbFJlc3VsdElzUmVhZHk6IGZhbHNlLAogICAgbG9jYWxSZXN1bHRUaW1lOiAwCiAgfSwKICBnZXR0ZXJzOiB7CiAgICBTUEFSUUxDb2RlOiBmdW5jdGlvbiBTUEFSUUxDb2RlKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5TUEFSUUxDb2RlOwogICAgfSwKICAgIGVycm9yU3RhdHVzOiBmdW5jdGlvbiBlcnJvclN0YXR1cyhzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuZXJyb3JTdGF0dXM7CiAgICB9LAogICAgZXJyb3JNZXNzYWdlOiBmdW5jdGlvbiBlcnJvck1lc3NhZ2Uoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmVycm9yTWVzc2FnZTsKICAgIH0sCiAgICByZW1vdGVSZXN1bHRDb2xzOiBmdW5jdGlvbiByZW1vdGVSZXN1bHRDb2xzKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5yZW1vdGVSZXN1bHQuY29sczsKICAgIH0sCiAgICByZW1vdGVSZXN1bHRSb3dzOiBmdW5jdGlvbiByZW1vdGVSZXN1bHRSb3dzKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5yZW1vdGVSZXN1bHQucm93czsKICAgIH0sCiAgICByZW1vdGVSZXN1bHRJc1JlYWR5OiBmdW5jdGlvbiByZW1vdGVSZXN1bHRJc1JlYWR5KHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5yZW1vdGVSZXN1bHRJc1JlYWR5OwogICAgfSwKICAgIHJlbW90ZVJlc3VsdFRpbWU6IGZ1bmN0aW9uIHJlbW90ZVJlc3VsdFRpbWUoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLnJlbW90ZVJlc3VsdFRpbWU7CiAgICB9LAogICAgbG9jYWxSZXN1bHRDb2xzOiBmdW5jdGlvbiBsb2NhbFJlc3VsdENvbHMoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmxvY2FsUmVzdWx0LmNvbHM7CiAgICB9LAogICAgbG9jYWxSZXN1bHRSb3dzOiBmdW5jdGlvbiBsb2NhbFJlc3VsdFJvd3Moc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmxvY2FsUmVzdWx0LnJvd3M7CiAgICB9LAogICAgbG9jYWxSZXN1bHRJc1JlYWR5OiBmdW5jdGlvbiBsb2NhbFJlc3VsdElzUmVhZHkoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmxvY2FsUmVzdWx0SXNSZWFkeTsKICAgIH0sCiAgICBsb2NhbFJlc3VsdFRpbWU6IGZ1bmN0aW9uIGxvY2FsUmVzdWx0VGltZShzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUubG9jYWxSZXN1bHRUaW1lOwogICAgfQogIH0sCiAgbXV0YXRpb25zOiB7CiAgICB1cGRhdGVDb2RlOiBmdW5jdGlvbiB1cGRhdGVDb2RlKHN0YXRlLCBuZXdDb2RlKSB7CiAgICAgIHN0YXRlLlNQQVJRTENvZGUgPSBuZXdDb2RlOwogICAgfSwKICAgIHVwZGF0ZVJlc3BvbnNlOiBmdW5jdGlvbiB1cGRhdGVSZXNwb25zZShzdGF0ZSwgbmV3UmVzcG9uc2UpIHsKICAgICAgc3RhdGUuanNvblJlc3BvbnNlID0gbmV3UmVzcG9uc2U7CiAgICAgIGNvbnNvbGUubG9nKHN0YXRlLmpzb25SZXNwb25zZSk7CiAgICB9LAogICAgdXBkYXRlRXJyb3I6IGZ1bmN0aW9uIHVwZGF0ZUVycm9yKHN0YXRlLCBfcmVmKSB7CiAgICAgIHZhciBuZXdFcnJvclN0YXR1cyA9IF9yZWYubmV3RXJyb3JTdGF0dXMsCiAgICAgICAgICBuZXdFcnJvck1lc3NhZ2UgPSBfcmVmLm5ld0Vycm9yTWVzc2FnZTsKICAgICAgc3RhdGUuZXJyb3JTdGF0dXMgPSBuZXdFcnJvclN0YXR1czsKICAgICAgc3RhdGUuZXJyb3JNZXNzYWdlID0gbmV3RXJyb3JNZXNzYWdlOwogICAgfSwKICAgIHVwZGF0ZUVuZHBvaW50OiBmdW5jdGlvbiB1cGRhdGVFbmRwb2ludChzdGF0ZSwgbmV3RW5kcG9pbnQpIHsKICAgICAgc3RhdGUuZW5kcG9pbnQgPSBuZXdFbmRwb2ludDsKICAgIH0sCiAgICB1cGRhdGVSZW1vdGVSZXN1bHQ6IGZ1bmN0aW9uIHVwZGF0ZVJlbW90ZVJlc3VsdChzdGF0ZSwgbmV3UmVzcG9uc2UpIHsKICAgICAgLy8gR2V0IGNvbGx1bW4gaGVhZGluZ3MgaS5lLiB2YXJpYWJsZXMgCiAgICAgIHN0YXRlLnJlbW90ZVJlc3VsdC5jb2xzID0gbmV3UmVzcG9uc2UuaGVhZC52YXJzOyAvLyBHZXQgcm93IG9mIGRhdGEgZm9yIG91dHB1dCAKCiAgICAgIHZhciByb3dzID0gW107CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5ld1Jlc3BvbnNlLnJlc3VsdHMuYmluZGluZ3MubGVuZ3RoOyBpKyspIHsKICAgICAgICB2YXIgZW50cmllcyA9IE9iamVjdC5lbnRyaWVzKG5ld1Jlc3BvbnNlLnJlc3VsdHMuYmluZGluZ3NbaV0pOwogICAgICAgIHZhciByb3cgPSBbXTsKCiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBlbnRyaWVzLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICByb3cucHVzaChlbnRyaWVzW2pdWzFdLnZhbHVlKTsKICAgICAgICB9CgogICAgICAgIHJvd3MucHVzaChyb3cpOwogICAgICB9CgogICAgICBzdGF0ZS5yZW1vdGVSZXN1bHQucm93cyA9IHJvd3M7CiAgICAgIHN0YXRlLnJlbW90ZVJlc3VsdElzUmVhZHkgPSB0cnVlOwogICAgfSwKICAgIHVwZGF0ZUxvY2FsUmVzdWx0OiBmdW5jdGlvbiB1cGRhdGVMb2NhbFJlc3VsdChzdGF0ZSwgbmV3TG9jYWxSZXN1bHQpIHsKICAgICAgdmFyIHZhcmlhYmxlcyA9IFtdOwogICAgICB2YXIgZW50cmllcyA9IE9iamVjdC5lbnRyaWVzKG5ld0xvY2FsUmVzdWx0WzBdKTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZW50cmllcy5sZW5ndGg7IGkrKykgewogICAgICAgIHZhcmlhYmxlcy5wdXNoKGVudHJpZXNbaV1bMF0pOwogICAgICB9CgogICAgICBzdGF0ZS5sb2NhbFJlc3VsdC5jb2xzID0gdmFyaWFibGVzOwogICAgICB2YXIgcm93cyA9IFtdOwoKICAgICAgZm9yIChpID0gMDsgaSA8IG5ld0xvY2FsUmVzdWx0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgZW50cmllcyA9IE9iamVjdC5lbnRyaWVzKG5ld0xvY2FsUmVzdWx0W2ldKTsKICAgICAgICB2YXIgcm93ID0gW107CgogICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZW50cmllcy5sZW5ndGg7IGorKykgewogICAgICAgICAgcm93LnB1c2goZW50cmllc1tqXVsxXS52YWx1ZSk7CiAgICAgICAgfQoKICAgICAgICByb3dzLnB1c2gocm93KTsKICAgICAgfQoKICAgICAgc3RhdGUubG9jYWxSZXN1bHQucm93cyA9IHJvd3M7CiAgICAgIHN0YXRlLmxvY2FsUmVzdWx0SXNSZWFkeSA9IHRydWU7CiAgICB9LAogICAgdXBkYXRlTG9jYWxSZXN1bHRUaW1lOiBmdW5jdGlvbiB1cGRhdGVMb2NhbFJlc3VsdFRpbWUoc3RhdGUsIG5ld1RpbWUpIHsKICAgICAgc3RhdGUubG9jYWxSZXN1bHRUaW1lID0gbmV3VGltZTsKICAgIH0sCiAgICB1cGRhdGVSZW1vdGVSZXN1bHRUaW1lOiBmdW5jdGlvbiB1cGRhdGVSZW1vdGVSZXN1bHRUaW1lKHN0YXRlLCBuZXdUaW1lKSB7CiAgICAgIHN0YXRlLnJlbW90ZVJlc3VsdFRpbWUgPSBuZXdUaW1lOwogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgdXBkYXRlQ29kZTogZnVuY3Rpb24gdXBkYXRlQ29kZShfcmVmMiwgbmV3Q29kZSkgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjIuY29tbWl0OwogICAgICBjb21taXQoJ3VwZGF0ZUNvZGUnLCBuZXdDb2RlKTsKICAgIH0sCiAgICBxdWVyeVN0b3JlOiBmdW5jdGlvbiBxdWVyeVN0b3JlKF9yZWYzKSB7CiAgICAgIHZhciBzdGF0ZSA9IF9yZWYzLnN0YXRlLAogICAgICAgICAgZGlzcGF0Y2ggPSBfcmVmMy5kaXNwYXRjaDsKICAgICAgZGlzcGF0Y2goJ3JkZkVkaXRvclN0b3JlL3F1ZXJ5U3RvcmUnLCBzdGF0ZS5TUEFSUUxDb2RlLCB7CiAgICAgICAgcm9vdDogdHJ1ZQogICAgICB9KTsKICAgIH0sCiAgICBxdWVyeUVuZHBvaW50OiBmdW5jdGlvbiBxdWVyeUVuZHBvaW50KF9yZWY0KSB7CiAgICAgIHZhciBzdGF0ZSA9IF9yZWY0LnN0YXRlLAogICAgICAgICAgY29tbWl0ID0gX3JlZjQuY29tbWl0OwogICAgICB2YXIgdDAgPSBwZXJmb3JtYW5jZS5ub3coKTsKICAgICAgc3RhdGUucmVtb3RlUmVzdWx0SXNSZWFkeSA9IGZhbHNlOwogICAgICB2YXIgcXVlcnlVUkwgPSBtYWtlUXVlcnkoc3RhdGUuU1BBUlFMQ29kZSwgc3RhdGUuZW5kcG9pbnQsIHN0YXRlLnJlc3VsdFR5cGUpOwogICAgICB2YXIgcmF3UmVzcG9uc2UgPSBzZW5kUXVlcnkocXVlcnlVUkwpOwoKICAgICAgdHJ5IHsKICAgICAgICBjb21taXQoJ3VwZGF0ZVJlbW90ZVJlc3VsdCcsIEpTT04ucGFyc2UocmF3UmVzcG9uc2UpKTsKICAgICAgICBjb21taXQoJ3VwZGF0ZUVycm9yJywgewogICAgICAgICAgbmV3RXJyb3JTdGF0dXM6IGZhbHNlLAogICAgICAgICAgbmV3RXJyb3JNZXNzYWdlOiAnJwogICAgICAgIH0pOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbW1pdCgndXBkYXRlRXJyb3InLCB7CiAgICAgICAgICBuZXdFcnJvclN0YXR1czogdHJ1ZSwKICAgICAgICAgIG5ld0Vycm9yTWVzc2FnZTogcmF3UmVzcG9uc2Uuc3BsaXQoIlxuIilbMF0KICAgICAgICB9KTsKICAgICAgfQoKICAgICAgdmFyIHQxID0gcGVyZm9ybWFuY2Uubm93KCk7CiAgICAgIGNvbW1pdCgndXBkYXRlUmVtb3RlUmVzdWx0VGltZScsIE1hdGgucm91bmQoKHQxIC0gdDApICogMTAwICsgTnVtYmVyLkVQU0lMT04pIC8gMTAwKTsKICAgIH0sCiAgICB1cGRhdGVFbmRwb2ludDogZnVuY3Rpb24gdXBkYXRlRW5kcG9pbnQoX3JlZjUsIG5ld0VuZHBvaW50KSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmNS5jb21taXQ7CiAgICAgIGNvbW1pdCgndXBkYXRlRW5kcG9pbnQnLCBuZXdFbmRwb2ludCk7CiAgICB9LAogICAgc2F2ZVF1ZXJ5OiBmdW5jdGlvbiBzYXZlUXVlcnkoX3JlZjYpIHsKICAgICAgdmFyIHN0YXRlID0gX3JlZjYuc3RhdGU7CiAgICAgIGNvbnNvbGUubG9nKHN0YXRlLlNQQVJRTENvZGUpOwogICAgICB2YXIgYmxvYiA9IG5ldyBCbG9iKFtzdGF0ZS5TUEFSUUxDb2RlXSwgewogICAgICAgIHR5cGU6ICJ0ZXh0L3BsYWluO2NoYXJzZXQ9dXRmLTgiCiAgICAgIH0pOwogICAgICBzYXZlQXMoYmxvYiwgJ3F1ZXJ5LnR4dCcpOwogICAgfSwKICAgIHVwZGF0ZUxvY2FsUmVzdWx0OiBmdW5jdGlvbiB1cGRhdGVMb2NhbFJlc3VsdChfcmVmNywgbmV3TG9jYWxSZXN1bHQpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWY3LmNvbW1pdDsKICAgICAgY29tbWl0KCd1cGRhdGVMb2NhbFJlc3VsdCcsIG5ld0xvY2FsUmVzdWx0KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["/home/anhelka/Documents/epimorphics/qonsole/src/store/modules/sparqleditor.store.js"],"names":["makeQuery","sendQuery","saveAs","namespaced","state","SPARQLCode","endpoint","errorStatus","errorMessage","resultType","remoteResult","cols","rows","remoteResultIsReady","remoteResultTime","localResult","localResultIsReady","localResultTime","getters","remoteResultCols","remoteResultRows","localResultCols","localResultRows","mutations","updateCode","newCode","updateResponse","newResponse","jsonResponse","console","log","updateError","newErrorStatus","newErrorMessage","updateEndpoint","newEndpoint","updateRemoteResult","head","vars","i","results","bindings","length","entries","Object","row","j","push","value","updateLocalResult","newLocalResult","variables","updateLocalResultTime","newTime","updateRemoteResultTime","actions","commit","queryStore","dispatch","root","queryEndpoint","t0","performance","now","queryURL","rawResponse","JSON","parse","error","split","t1","Math","round","Number","EPSILON","saveQuery","blob","Blob","type"],"mappings":"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","sourcesContent":["import {makeQuery, sendQuery} from '@/query.js'\nimport {saveAs} from 'file-saver'\nexport default {\n    namespaced: true, \n    state: {\n        SPARQLCode: '',\n        endpoint: '', \n        errorStatus: false,\n        errorMessage: '', \n        resultType: 'JSON', \n        // For SPARQL Editor only \n        remoteResult: {\n            cols: null,\n            rows: null\n        },\n        remoteResultIsReady: false,\n        remoteResultTime: 0, \n        // For using SPARQL editor to query \"local\" RDF store \n        localResult: {\n            cols: null, \n            rows: null\n        },\n        localResultIsReady: false,\n        localResultTime: 0 \n    }, \n    getters: {\n        SPARQLCode: state => state.SPARQLCode,\n        errorStatus: state => state.errorStatus,\n        errorMessage: state => state.errorMessage, \n        remoteResultCols: state => state.remoteResult.cols,\n        remoteResultRows: state => state.remoteResult.rows, \n        remoteResultIsReady: state => state.remoteResultIsReady,\n        remoteResultTime: state => state.remoteResultTime, \n        localResultCols: state => state.localResult.cols,\n        localResultRows: state => state.localResult.rows,\n        localResultIsReady: state => state.localResultIsReady,\n        localResultTime: state => state.localResultTime \n    },\n    mutations: {\n        updateCode (state, newCode) {\n            state.SPARQLCode = newCode \n        },\n        updateResponse (state, newResponse) {\n            state.jsonResponse = newResponse\n            console.log(state.jsonResponse)\n        },\n        updateError (state, {newErrorStatus, newErrorMessage}) {\n            state.errorStatus = newErrorStatus\n            state.errorMessage = newErrorMessage\n        },\n        updateEndpoint (state, newEndpoint) {\n            state.endpoint = newEndpoint\n        },\n        updateRemoteResult (state, newResponse) {\n            // Get collumn headings i.e. variables \n            state.remoteResult.cols = newResponse.head.vars \n            \n            // Get row of data for output \n            var rows = []\n            for ( var i = 0; i< newResponse.results.bindings.length; i++) {\n                var entries = Object.entries(newResponse.results.bindings[i])\n                var row = []\n                for (var j = 0; j < entries.length; j++) {\n                    row.push(entries[j][1].value)\n                }\n                rows.push(row)\n            }\n            state.remoteResult.rows = rows \n\n            state.remoteResultIsReady = true \n        },\n        updateLocalResult (state, newLocalResult) {\n            var variables = []\n            var entries = Object.entries(newLocalResult[0])\n            for (var i = 0; i < entries.length; i++) {\n                variables.push(entries[i][0])\n            }\n            state.localResult.cols = variables \n\n            var rows = []\n            for (i = 0; i < newLocalResult.length; i++) {\n                entries = Object.entries(newLocalResult[i])\n                var row = []\n                for (var j = 0; j < entries.length; j++) {\n                    row.push(entries[j][1].value)\n                }\n                rows.push(row)\n            }\n            state.localResult.rows = rows \n\n            state.localResultIsReady = true \n        },\n        updateLocalResultTime (state, newTime) {\n            state.localResultTime = newTime \n        },\n        updateRemoteResultTime (state, newTime) {\n            state.remoteResultTime = newTime\n        }\n    },\n    actions: {\n        updateCode: ({commit}, newCode) => {\n            commit('updateCode', newCode)\n        },\n        queryStore: ({state, dispatch}) => {\n            dispatch('rdfEditorStore/queryStore', state.SPARQLCode, {root: true})\n        },\n        queryEndpoint: ({state, commit}) => {\n            var t0 = performance.now()\n            state.remoteResultIsReady = false \n            var queryURL = makeQuery(state.SPARQLCode, state.endpoint, state.resultType)\n            var rawResponse = sendQuery(queryURL)\n            try {\n                commit('updateRemoteResult', JSON.parse(rawResponse))\n                commit('updateError', {newErrorStatus: false, newErrorMessage: ''})\n            } catch (error) {\n                commit('updateError', {newErrorStatus: true, newErrorMessage: rawResponse.split(\"\\n\")[0]})\n            }\n            var t1 = performance.now()\n            commit('updateRemoteResultTime', (Math.round( (t1-t0) * 100 + Number.EPSILON ) / 100))\n        },\n        updateEndpoint: ({commit}, newEndpoint) => {\n            commit('updateEndpoint', newEndpoint)\n        },\n        saveQuery: ({state}) => {\n            console.log(state.SPARQLCode)\n            var blob = new Blob([state.SPARQLCode], {type: \"text/plain;charset=utf-8\"})\n            saveAs(blob, 'query.txt')\n        },\n        updateLocalResult: ({commit}, newLocalResult) => {\n            commit('updateLocalResult', newLocalResult)\n        }\n    }\n}"]}]}