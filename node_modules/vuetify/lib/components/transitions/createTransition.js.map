{"version":3,"sources":["../../../src/components/transitions/createTransition.ts"],"names":[],"mappings":"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","sourcesContent":["import { FunctionalComponentOptions, VNode, VNodeData } from 'vue'\nimport mergeData from '../../util/mergeData'\n\nfunction mergeTransitions (\n  dest: Function | Function[] = [],\n  ...transitions: (Function | Function[])[]\n) {\n  /* eslint-disable-next-line no-array-constructor */\n  return Array<Function>().concat(dest, ...transitions)\n}\n\nexport function createSimpleTransition (\n  name: string,\n  origin = 'top center 0',\n  mode?: string\n): FunctionalComponentOptions {\n  return {\n    name,\n\n    functional: true,\n\n    props: {\n      group: {\n        type: Boolean,\n        default: false,\n      },\n      hideOnLeave: {\n        type: Boolean,\n        default: false,\n      },\n      leaveAbsolute: {\n        type: Boolean,\n        default: false,\n      },\n      mode: {\n        type: String,\n        default: mode,\n      },\n      origin: {\n        type: String,\n        default: origin,\n      },\n    },\n\n    render (h, context): VNode {\n      const tag = `transition${context.props.group ? '-group' : ''}`\n      const data: VNodeData = {\n        props: {\n          name,\n          mode: context.props.mode,\n        },\n        on: {\n          beforeEnter (el: HTMLElement) {\n            el.style.transformOrigin = context.props.origin\n            el.style.webkitTransformOrigin = context.props.origin\n          },\n        },\n      }\n\n      if (context.props.leaveAbsolute) {\n        data.on!.leave = mergeTransitions(data.on!.leave, (el: HTMLElement) => (el.style.position = 'absolute'))\n      }\n      if (context.props.hideOnLeave) {\n        data.on!.leave = mergeTransitions(data.on!.leave, (el: HTMLElement) => (el.style.display = 'none'))\n      }\n\n      return h(tag, mergeData(context.data, data), context.children)\n    },\n  }\n}\n\nexport function createJavascriptTransition (\n  name: string,\n  functions: Record<string, any>,\n  mode = 'in-out'\n): FunctionalComponentOptions {\n  return {\n    name,\n\n    functional: true,\n\n    props: {\n      mode: {\n        type: String,\n        default: mode,\n      },\n    },\n\n    render (h, context): VNode {\n      return h(\n        'transition',\n        mergeData(context.data, {\n          props: { name },\n          on: functions,\n        }),\n        context.children\n      )\n    },\n  }\n}\n"],"sourceRoot":"","file":"createTransition.js"}